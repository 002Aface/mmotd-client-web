{% extends 'awwm/base.html' %}

{% block extra_css %}
  <!-- Custom styles for this template -->
  <link href="/static/awwm/css/lobby.css" rel="stylesheet">
{% endblock %}

{% block content %}
<div class="container">
    <div class="row">
        <table class="table table-striped table-bordered">
            <thead>
                <th>Name</th>
                <th>Started</th>
                <th>Players</th>
                <th>Actions</th>
            </thead>
            <tbody>
                {% for game in active_games %}
                    <tr>
                        <td>{{ game.name }}</td>
                        <td>{{ game.started }}</td>
                        <td>{{ game.player_count }}</td>
                        <td>
                            <a class="btn btn-success" href="{% url 'awwm-pregame' game.key.id %}">
                                <span class="glyphicon glyphicon-sent"></span> Join Game
                            </a>
                            {% if game.creator.id == request.user.user_id %}
                                <a class="btn btn-danger" href="#">
                                    <span class="glyphicon glyphicon-remove"></span> Kill Game
                                </a>
                            {% endif%}
                        </td>
                    </tr>
                {% empty %}
                    <tr>
                        <td colspan="4" class="empty-table">
                          <h4>No games found</h4>
                        </td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}
